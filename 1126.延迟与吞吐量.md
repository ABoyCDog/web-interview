# 关于 Latency 延迟和 Throughput 吞吐量的理解

延迟和吞吐量是衡量一个软件系统的最常见的两个指标。

### 1、如何理解延迟和吞吐量

- 延迟，latency

  > 包括单向延迟和往返延迟，实际测量时一般取往返延迟，单位为 ms、s、min、h.

- 吞吐量，throughput
  > 一般指相当一段时间内测量出来的系统单位时间处理的任务数或事务数(TPS)。注意相当一段时间不是几秒，可能是十几分钟、一天甚至一个月或更久。单位是 TPS(Transaction Per Second)、每单位时间写入磁盘的字节数

### 2、思考：低延迟一定意味着高吞吐量吗？如果不是，试举出反例。

- 不是。

- 举例：将网络发请求比做去 ATM 取钱，从开始取钱到完成整个过程需要 60 秒，所以延迟是 60s，吞吐量就是 1/60 人/秒。

  > - 现在银行升级了，取钱整个过程只需要 30 秒，此时延迟 30s，吞吐量 1/30 人/秒，但是这里延迟降低，吞吐量也增大了，不符合反例。别急，看下面。
  > - 银行取钱的人变多了，故新加了一个 ATM 机，一共两个 ATM。现在一分钟可以让四个人完成取钱，但一个人取钱还是要 30 秒，所以，延迟没变，但是吞吐量变大了。可见，吞吐量的增大可以不通过减小延迟来提高。
  > - 好了，现在银行为改进服务作出新决定：在取钱之前需要在旁边填写一个调查问卷，花费 30 秒。则要取钱的话，ATM 取钱 30 秒，填写问卷 30 秒，整个过程又变成了 60s，延迟变大了，但是吞吐量又没变。

  所以，延迟和吞吐量是两个不同的目标，只是尽量要去做到减小延迟的同时要增大吞吐量。
