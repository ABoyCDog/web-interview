# 4. 闭包的作用和原理
+ 什么是闭包：首先，闭包是个函数。他有权访问另一个函数作用域内的变量。
+ 作用：1、闭包能够在函数外使用函数作用域内的局部变量；2、并且不会污染全局。
+ 原理：基于词法作用域链和垃圾回收机制，通过维持函数作用域的引用，让函数作用域可以被当前作用域外被访问到。（作用域链就是在当前执行环境下，访问某个变量时，如果不存在时，就一直往外层找，终点是全局作用域，形成一个链条就是作用域链）
+ 应用：
    1. 最简单的应用，实现自加函数；
    ```js
        function addFn() {
            let val = 0;
            return function() {
                console.log(val++);
            }
        }
        const add = addFn();
        add(); // 0
        add(); // 1
        add(); // 2
    ```
    2. 回调函数的本质就是闭包。定时器、事件监听器、防抖节流、ajax请求、跨窗口通信、web worker或任何的异步/同步任务中，只要使用了函数回调，就都是使用了闭包。
+ 缺点：会影响垃圾回收机制，造成内存消耗，使用闭包不当时会造成内存泄漏。